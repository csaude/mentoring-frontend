import{C as S,ac as y,w as B,o as T,g as U,B as b,ad as x}from"./index.8cc0be75.js";import{f as P}from"./QBtn.bc754139.js";function A(e,o,t){let u;function l(){u!==void 0&&(y.remove(u),u=void 0)}return S(()=>{e.value===!0&&l()}),{removeFromHistory:l,addToHistory(){u={condition:()=>t.value===!0,handler:o},y.add(u)}}}const F={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},I=["beforeShow","show","beforeHide","hide"];function $({showing:e,canShow:o,hideOnRouteChange:t,handleShow:u,handleHide:l,processOnMount:g}){const f=U(),{props:n,emit:a,proxy:c}=f;let i;function H(r){e.value===!0?d(r):p(r)}function p(r){if(n.disable===!0||r!==void 0&&r.qAnchorHandled===!0||o!==void 0&&o(r)!==!0)return;const s=n["onUpdate:modelValue"]!==void 0;s===!0&&(a("update:modelValue",!0),i=r,b(()=>{i===r&&(i=void 0)})),(n.modelValue===null||s===!1)&&m(r)}function m(r){e.value!==!0&&(e.value=!0,a("beforeShow",r),u!==void 0?u(r):a("show",r))}function d(r){if(n.disable===!0)return;const s=n["onUpdate:modelValue"]!==void 0;s===!0&&(a("update:modelValue",!1),i=r,b(()=>{i===r&&(i=void 0)})),(n.modelValue===null||s===!1)&&v(r)}function v(r){e.value!==!1&&(e.value=!1,a("beforeHide",r),l!==void 0?l(r):a("hide",r))}function V(r){n.disable===!0&&r===!0?n["onUpdate:modelValue"]!==void 0&&a("update:modelValue",!1):r===!0!==e.value&&(r===!0?m:v)(i)}B(()=>n.modelValue,V),t!==void 0&&P(f)===!0&&B(()=>c.$route.fullPath,()=>{t.value===!0&&e.value===!0&&d()}),g===!0&&T(()=>{V(n.modelValue)});const h={show:p,hide:d,toggle:H};return Object.assign(c,h),h}function j(){let e;return{preventBodyScroll(o){o!==e&&(e!==void 0||o===!0)&&(e=o,x(o))}}}const M=["B","KB","MB","GB","TB","PB"];function C(e,o=1){let t=0;for(;parseInt(e,10)>=1024&&t<M.length-1;)e/=1024,++t;return`${e.toFixed(o)}${M[t]}`}function E(e,o,t){return t<=o?o:Math.min(t,Math.max(o,e))}function k(e,o,t){if(t<=o)return o;const u=t-o+1;let l=o+(e-o)%u;return l<o&&(l=u+l),l===0?0:l}function q(e,o=2,t="0"){if(e==null)return e;const u=""+e;return u.length>=o?u:new Array(o-u.length+1).join(t)+u}export{I as a,$ as b,A as c,E as d,j as e,C as h,k as n,q as p,F as u};
